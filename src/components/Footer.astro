---
interface Link { label: string; href: string; }
interface Section { title: string; links: Link[]; }

import { getDict, getLangFromCookie, getDefaultLang, type Lang } from "../i18n";

const lang: Lang = typeof document === 'undefined' ? getDefaultLang() : getLangFromCookie();
const t = getDict(lang); // JSON sözlüğünü alıyoruz (footer metinleri burada)
const fallbackSections: Section[] = [
  {
    title: (t?.footer?.company ?? "Şirket"),
    links: [
      { label: (t?.footer?.about ?? "Hakkımızda"), href: "/#about" },
      { label: (t?.footer?.contact ?? "İletişim"), href: "/iletisim" }
    ]
  },
  {
    title: (t?.footer?.docs ?? "Belgeler"),
    links: [
      { label: (t?.support?.title ?? "Destek"), href: "/destek" }
    ]
  },
  {
    title: (t?.footer?.legal ?? "Yasal"),
    links: [
      { label: (t?.footer?.privacy ?? "Gizlilik"), href: "/privacy" },
      { label: (t?.footer?.cookies ?? "Çerez Politikası"), href: "/cookies" },
      { label: (t?.footer?.sitemap ?? "Site Haritası"), href: "/sitemap" }
    ]
  }
];

const sections: Section[] = (t?.footer?.sections as Section[]) ?? fallbackSections;
const textColor = "text-[#666666]"; // K:60 tonu
---
<footer class="mx-auto max-w-screen-xl px-4 py-12">
  <div class="grid grid-cols-1 sm:grid-cols-3 gap-8">
    {sections.map((section) => (
      <div>
        <h3 class={`mb-4 font-semibold ${textColor}`}>{section.title}</h3>
        <ul class="space-y-2">
          {section.links?.map((link) => (
            <li><a href={link.href} class={`${textColor} hover:underline`}>{link.label}</a></li>
          ))}
        </ul>
      </div>
    ))}
  </div>
  <div class={`mt-10 text-sm ${textColor}`}>© {new Date().getFullYear()} WellDrive</div>
</footer>
