---
import type { Lang } from "../i18n/index";
import { getDict } from "../i18n/index";

// SSR-safe: cookie yok, varsayÄ±lan TR
const lang: Lang = 'tr';
const t = getDict(lang);

const sections = Array.isArray(t?.footer?.sections) ? t.footer.sections : [];
const legal = Array.isArray(t?.footer?.legal) ? t.footer.legal : [];
const note = typeof t?.footer?.note === 'string' ? t.footer.note : '';
---

<footer class="w-full border-t border-gray-200 mt-24">
  <div class="mx-auto max-w-screen-xl px-6 py-12">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
      {sections.map((sec) => (
        <div>
          <h3 class="text-sm font-semibold mb-3 text-gray-800">{sec.title}</h3>
          <ul class="space-y-2">
            {Array.isArray(sec.links) && sec.links.map((l) => (
              <li>
                <a href={l.href} class="text-sm text-gray-600 hover:text-gray-900 hover:underline">
                  {l.label}
                </a>
              </li>
            ))}
          </ul>
        </div>
      ))}
    </div>

    {note && (
      <p class="text-xs text-gray-500 mt-8">{note}</p>
    )}

    {legal.length > 0 && (
      <div class="flex flex-wrap gap-4 text-xs text-gray-600 mt-6">
        {legal.map((l) => (
          <a href={l.href} class="hover:text-gray-900 hover:underline">{l.label}</a>
        ))}
      </div>
    )}
  </div>
</footer>