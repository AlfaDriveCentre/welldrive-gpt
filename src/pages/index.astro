---
import Footer from '../components/Footer.astro';
import Reveal from '../components/Reveal.tsx';
import type { Lang } from '../i18n/index';
import { getDict } from '../i18n/index';

// SSR-safe: build zamanı sabit dil, runtime dil değişimi LanguageSwitch ile yapılır.
const lang: Lang = 'tr';
const t = getDict(lang);

// Güvenli fallback'ler
const hero = {
  title: t?.home?.hero?.title ?? 'WellDrive',
  subtitle: t?.home?.hero?.subtitle ?? 'Yüksek performans, güvenilir teknoloji',
  ctaPrimary: t?.home?.hero?.ctaPrimary ?? 'Teklif isteyin',
  ctaSecondary: t?.home?.hero?.ctaSecondary ?? 'Detayları görün',
};
---

<main class="mx-auto max-w-screen-xl px-6 pt-24 pb-16">
  <section class="text-center">
    <h1 class="text-4xl md:text-6xl font-semibold tracking-tight text-gray-900">{hero.title}</h1>
    <p class="mt-4 text-lg md:text-xl text-gray-600">{hero.subtitle}</p>

    <div class="mt-8 flex items-center justify-center gap-4">
      <a href="/iletisim" class="inline-flex rounded-xl bg-blue-600 px-5 py-3 text-white hover:bg-blue-700 transition">
        {hero.ctaPrimary}
      </a>
      <a href="/wd750" class="inline-flex px-5 py-3 text-blue-600 hover:underline">
        {hero.ctaSecondary}
      </a>
    </div>
  </section>

  <section class="mt-24 grid md:grid-cols-2 gap-12 items-center">
    <div>
      <Reveal client:only="react">
        <h2 class="text-2xl md:text-3xl font-semibold text-gray-900">{t?.home?.wd750?.title ?? 'WD750'}</h2>
        <p class="mt-3 text-gray-600">{t?.home?.wd750?.desc ?? 'WD750 için açıklama alanı.'}</p>
        <div class="mt-5 flex gap-4">
          <a href="/wd750" class="inline-flex rounded-xl bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 transition">
            {t?.common?.cta?.offer ?? 'Teklif isteyin'}
          </a>
          <a href="/wd750" class="inline-flex px-4 py-2 text-blue-600 hover:underline">
            {t?.common?.cta?.details ?? 'Detayları görün'}
          </a>
        </div>
      </Reveal>
    </div>
    <div class="aspect-[16/10] rounded-2xl bg-gray-100"></div>
  </section>

  <section class="mt-24 grid md:grid-cols-2 gap-12 items-center">
    <div class="order-2 md:order-1">
      <Reveal client:only="react">
        <h2 class="text-2xl md:text-3xl font-semibold text-gray-900">{t?.home?.wd770?.title ?? 'WD770'}</h2>
        <p class="mt-3 text-gray-600">{t?.home?.wd770?.desc ?? 'WD770 için açıklama alanı.'}</p>
        <div class="mt-5 flex gap-4">
          <a href="/wd770" class="inline-flex rounded-xl bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 transition">
            {t?.common?.cta?.offer ?? 'Teklif isteyin'}
          </a>
          <a href="/wd770" class="inline-flex px-4 py-2 text-blue-600 hover:underline">
            {t?.common?.cta?.details ?? 'Detayları görün'}
          </a>
        </div>
      </Reveal>
    </div>
    <div class="order-1 md:order-2 aspect-[16/10] rounded-2xl bg-gray-100"></div>
  </section>
</main>

<Footer />